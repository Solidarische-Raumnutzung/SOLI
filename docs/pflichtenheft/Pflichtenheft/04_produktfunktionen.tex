%!TEX root = ../Pflichtenheft.tex

% Kapitel 4
%-------------------------------------------------------------------------------

\chapter{Produktfunktionen}
\label{chap:product_functions}


\section{Unangemeldete Nutzende}\label{sec:unangemeldete-benutzer-funktionen}

\begin{table}[htbp]
    \centering
    \begin{tabularx}{\textwidth}{ l|X|>{\raggedright\arraybackslash}X }
        \textbf{Nr.} & \textbf{Funktion} & \textbf{Kriterien} \\ \hline\hline
        \ref{F10} & Startseite besuchen &~\ref{MK1}, ~\ref{MK4}, ~\ref{WK1} \\
        \ref{F20} & Login &~\ref{MK2}, ~\ref{MK4} \\
        \ref{F70} & Anzeige des Raumstatus &~\ref{MK18} \\
    \end{tabularx}
    \caption{Überblick von Funktionen für unangemeldete Nutzende.}
    \label{tab:non_loggedin_functions}
\end{table}


\section{Angemeldete Nutzende}\label{sec:angemeldete-benutzer-funktionen}
\begin{table}[htbp]
    \centering
    \begin{tabularx}{\textwidth}{ l|X|>{\raggedright\arraybackslash}X }
        \textbf{Nr.} & \textbf{Funktion} & \textbf{Kriterien} \\ \hline\hline
        \ref{F10} & Startseite besuchen &~\ref{MK1}, ~\ref{MK4}, ~\ref{WK1} \\
        \ref{F100} & Login mit Adminkonto &~\ref{MK17} \\
        \ref{F30} & Abmelden &~\ref{MK3}, ~\ref{MK4} \\
        \ref{F40} & Reservieren &~\ref{MK9}, ~\ref{MK10}, ~\ref{MK12}, ~\ref{MK13}, ~\ref{MK14}, ~\ref{WK4}, ~\ref{WK11} \\
        \ref{F70} & Benachrichtigung &~\ref{WK10} \\
        \ref{F80} & Anzeige des Raumstatus &~\ref{MK20} \\
        \ref{F90} & Stornierung einer Reservierung &~\ref{MK16} \\
        \ref{F130} & Terminkonfliktauflösung &~\ref{MK14} \\
    \end{tabularx}
    \caption{Überblick von Funktionen für angemeldete Nutzende.}
    \label{tab:loggedin_functions}
\end{table}
\newpage
\section{Administrator*innen}\label{sec:adminfunktionen}

\begin{table}[htbp]
    \centering
    \begin{tabularx}{\textwidth}{ l|X|>{\raggedright\arraybackslash}X  }
        \textbf{Nr.} & \textbf{Funktion} & \textbf{Kriterien} \\ \hline\hline
        \ref{F10} & Startseite besuchen &~\ref{MK1}, ~\ref{MK4}, ~\ref{WK1} \\
        \ref{F30} & Abmelden &~\ref{MK3}, ~\ref{MK4} \\
        \ref{F40} & Reservieren &~\ref{MK9}, ~\ref{MK10}, ~\ref{MK12}, ~\ref{MK13}, ~\ref{MK14}, ~\ref{WK4}, ~\ref{WK11} \\
        \ref{F50} & Löschen von Terminen durch Administratoren &~\ref{MK18} \\
        \ref{F60} & Deaktivierung von Konten &~\ref{MK19} \\
        \ref{F70} & Benachrichtigung bei freiem Raum &~\ref{WK10} \\
        \ref{F80} & Anzeige des Raumstatus &~\ref{MK20} \\
        \ref{F90} & Stornierung einer Reservierung &~\ref{MK16} \\
        \ref{F100} & Anmelden als Admin &~\ref{MK17} \\
        \ref{F110} & Deaktivieren von Gastkonto-Anmeldung &~\ref{MK18} \\
        \ref{F120} & Öffnungszeiten einstellen &~\ref{MK21} \\
        \ref{F130} & Terminkonfliktauflösung &~\ref{MK14} \\
    \end{tabularx}
    \caption{Überblick von Funktionen für Admins.}
    \label{tab:adminfunctions}
\end{table}



\begin{function}{10}{Startseite}
    \item[Anwendungsfall:] Initiales besuchen der Webseite
    \item[Anforderung:]~\ref{MK1}, ~\ref{MK4}, ~\ref{WK1}
    \item[Ziel:] Den Nutzenden wird ohne Anmeldung die Ansicht \textit{Kalender} gezeigt.
    \item[Vorbedingung:] Die Nutzenden haben eine Internetverbindung und im \gls{Browser}~die Webseite geöffnet.
    \item[Nachbedingung Erfolg:] Die Nutzenden sehen die Ansicht \textit{Kalender} mit zukünftigen Reservierungen.
    \item[Nachbedingung Fehlschlag:] Die Nutzenden sind nicht in der Lage mit der Webseite weiter zu interagieren.
    \item[Auslösendes Ereignis:] Die Nutzenden verwenden ihre \gls{Browser}~, um die Webseite aufzurufen.
    \item[Beschreibung:]~
    \begin{enumerate}
        \item Die Nutzenden navigieren in ihren Browsern auf die Webseite.
        \item Die Startseite lädt und zeigt den Nutzenden die Ansicht \textit{Kalender} an.
    \end{enumerate}
    \item[Erweiterung:] Sollte es mehr als ein Arbeitsraum geben, so sollte hier vom Nutzenden die Auswahl getroffen werden, bevor die Ansicht \textit{Kalender} angezeigt wird.
\end{function}

\pagebreak

\begin{function}{20}{Anmelden}
    \item[Anwendungsfall:] Anmelden bzw.\ Registrieren
    \item[Anforderung:]~\ref{MK2}, ~\ref{MK4}
    \item[Ziel:] Die Nutzenden können sich mit ihren KIT-Konten oder lokalen Gastkonten anmelden.
    \item[Vorbedingung:] Die Nutzenden haben eine Internetverbindung und die Anwendung ist gestartet.
    \item[Nachbedingung Erfolg:] Die Nutzenden sind angemeldet und können Ereignisse ansehen und bearbeiten.
    \item[Nachbedingung Fehlschlag:] Die Nutzenden sind nicht angemeldet und können keine Ereignisse ansehen oder bearbeiten.
    \item[Auslösendes Ereignis:] Die Nutzenden öffnen die Anwendung und versuchen, einem Termin zu erstellen oder mit einem bereits existierenden Termin zu interagieren.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die Nutzenden wählen in einem Dialog die Anmeldemethode aus.
        \item Sollten diese noch keinen Account haben, so wird statt eine Anmeldung eine Registrierung vollzogen.
        \item Die Nutzenden werden, falls nötig, auf die KIT-Login-Seite weitergeleitet.
        \item Falls keine lokale Gast-Anmeldung gewählt wurde, geben die Nutzenden ihre Zugangsdaten ein.
        \item Die Anwendung überprüft die Zugangsdaten und meldet die Nutzenden an.
        \item Bei einer Gast-Anmeldung wird zusätzlich noch eine E-Mail hinterlegt.
        \item Die Nutzenden werden zur nächsten Seite weitergeleitet.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{30}{Abmelden}
    \item[Anwendungsfall:] Abmelden
    \item[Anforderung:]~\ref{MK3}
    \item[Ziel:] Die Nutzenden können sich von der Anwendung abmelden.
    \item[Vorbedingung:] Der/die Nutzende ist angemeldet.
    \item[Nachbedingung Erfolg:] Der/die Nutzende ist abgemeldet und wird auf die Startseite weitergeleitet.
    \item[Nachbedingung Fehlschlag:] Der/die Nutzende ist nicht abgemeldet und erhält eine Fehlermeldung.
    \item[Auslösendes Ereignis:] Die/der Nutzende wählt die Option zum Abmelden aus.
    \begin{enumerate}
        \item Der/die Nutzende wählt die Funktion zum Abmelden aus.
        \item Der/die Nutzende wird abgemeldet und auf die Startseite weitergeleitet.
    \end{enumerate}
\end{function}


\pagebreak

\begin{function}{40}{Reservierung}
    \item[Anwendungsfall:] Reservierung
    \item[Anforderung:]~\ref{MK9} und~\ref{MK10}, ~\ref{MK12}, ~\ref{MK13}, ~\ref{MK14}, ~\ref{WK4} und~\ref{WK11}
    \item[Ziel:] Die nutzende Person kann einen Raum reservieren.
    \item[Vorbedingung:] Die nutzende Person ist angemeldet und in der Ansicht \textit{Kalender}.
    \item[Nachbedingung Erfolg:] Eine Reservierung wird gespeichert und die nutzende Person zur Ansicht \textit{Termin} weitergeleitet.
    \item[Nachbedingung Fehlschlag:] Die Reservierung wird nicht gespeichert und die nutzende Person erhält eine Fehlermeldung.
    \item[Auslösendes Ereignis:] Die nutzende Person wählt einen Startzeitpunkt.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die nutzende Person wählt einen Start- und Endzeitpunkt auf 15 minuten genau und kann diese gegebenenfalls anpassen.
        \item Die nutzende Person gibt optional eine Beschreibung an.
        \item Die nutzende Person gibt an, ob sie bereit ist, den Raum mit weiteren zu teilen.
        \item Die nutzende Person wählt eine Prioritätsstufe.
        \item Die nutzende Person bestätigt ihre Eingaben.
        \item Die Anwendung prüft, ob der Raum in dem Zeitraum verfügbar ist.
        \item Ist dies der Fall, wird die Reservierung gespeichert und die nutzende Person zur Ansicht \textit{Kalender} weitergeleitet.
        Wenn nötig, wird eine E-Mail an die Ersteller*innen überschriebener Reservierungen gesendet.
        \item Die Anwendung überprüft, ob die angegebene Priorität andere Termine beeinflusst und löst konflikte entsprechend.~(siehe~\ref{F130})
        \item Der nutzenden Person wird dieser Konflikt mitgeteilt und sobald dieser geklärt, wird den beteiligten Parteien der entschluss via E-Mail mitgeteilt.
    \end{enumerate}
    \item[Erweiterung:] ~
    \begin{enumerate}
        \item Nach dem Erstellen des Termins könnte dieser als iCal-Export zur verfügung gestellt werden.
        \item Durch einen zusätzlichen Quick-Checkin-Button könnte dieser Prozess simpler und kürzer gemacht werden.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{50}{Löschen von Terminen durch das Adminkonto}
    \item[Anwendungsfall:] Löschen von Terminen durch das Adminkonto
    \item[Anforderung:] ~\ref{MK19}
    \item[Ziel:] Ein/e Administrator*in kann bestehende Termine löschen.
    \item[Vorbedingung:] Ein/e Administrator*in ist angemeldet und die Ansicht \textit{Kalender} wird angezeigt.
    \item[Nachbedingung Erfolg:] Der Termin wird aus dem System entfernt und der/die Administrator*in erhält eine Erfolgsmeldung.
    \item[Nachbedingung Fehlschlag:] Der Termin wird nicht gelöscht und der/die Administrator*in erhält eine Fehlermeldung.
    \item[Auslösendes Ereignis:] Ein/e Administrator*in wählt einen Termin aus, welcher gelöscht werden soll.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Ein/e Administrator*in öffnet die Ansicht \textit{Kalender}.
        \item Der/die Administrator*in wählt den Termin aus, welcher gelöscht werden soll.
        \item Der/die Administrator*in wird gefragt, ob es den Termin wirklich löschen möchte (Bestätigungsabfrage).
        \item Falls der/die Administrator*in bestätigt, wird der Termin gelöscht.
        \item Eine Bestätigungsmeldung wird angezeigt (z.B.\ `Termin erfolgreich gelöscht').
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{60}{Deaktivierung von Konten}
    \item[Anwendungsfall:] Deaktivierung von Konten
    \item[Anforderung:] ~\ref{MK18}
    \item[Ziel:] Ein Konto wird vom Adminkonto gesperrt.
    \item[Vorbedingung:] Ein/e Administrator*in ist angemeldet und betrachtet die Ansicht \textit{Kontoliste}.
    \item[Nachbedingung Erfolg:] Das Konto wird deaktiviert und kann nicht mehr zum Anmelden verwendet werden.
    \item[Nachbedingung Fehlschlag:] Das Konto bleibt aktiv und der/die Administrator*in erhält eine Fehlermeldung.
    \item[Auslösendes Ereignis:] Der/die Administrator*in wählt ein Konto aus, welches deaktiviert werden soll.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Ein/e Administrator*in öffnet die Liste der Konten (Ansicht \textit{Kontoliste}).
        \item Der/die Administrator*in wählt ein Konto aus, welches deaktiviert werden soll.
        \item Der/die Administrator*in bestätigt die Deaktivierung.
        \item Das Konto wird deaktiviert und aus der aktiven Liste entfernt.
        \item Eine Bestätigungsmeldung wird angezeigt (z.B.\ \textit{Konto erfolgreich deaktiviert}).
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{70}{Benachrichtigung bei freiem Raum}
    \item[Anwendungsfall:] Benachrichtigung über freigewordenen Raum
    \item[Anforderung:] ~\ref{WK10}
    \item[Ziel:] Die Anwendung informiert Nutzende, wenn ein Raum wieder frei wird.
    \item[Vorbedingung:] Die Nutzenden haben sich für den Raum interessiert und haben eine Benachrichtigung angefordert.
    \item[Nachbedingung Erfolg:] Die Nutzenden werden über die Freigabe des Raums per E-Mail oder Benachrichtigung informiert.
    \item[Nachbedingung Fehlschlag:] Die Nutzenden erhalten keine Benachrichtigung, und eine Fehlermeldung wird angezeigt.
    \item[Auslösendes Ereignis:] Der Raum wird freigegeben, nachdem eine vorherige Reservierung aufgehoben oder geändert wurde.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die Nutzenden wählen aus, ob sie für den Raum Benachrichtigungen erhalten möchten, wenn er wieder frei wird.
        \item Sobald der Raum wieder verfügbar ist, prüft das System, ob die nutzende Person für den Raum eine Benachrichtigung angefordert haben.
        \item Den betroffenen Nutzenden wird eine E-Mail oder Benachrichtigung zugeschickt, dass der Raum nun wieder verfügbar ist.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{80}{Anzeige des Raumstatus}
    \item[Anwendungsfall:] Anzeige des Raumstatus
    \item[Anforderung:] ~\ref{MK20} \ref{WK9}
    \item[Ziel:] Die Anwendung stellt den Raumstatus, einschließlich der aktuellen Belegung und Priorität, übersichtlich dar.
    \item[Vorbedingung:] Die Nutzenden sind auf der Ansicht \textit{Kalender} und müssen nicht angemeldet sein.
    \item[Nachbedingung Erfolg:] Der Raumstatus wird auf einer öffentlichen Seite korrekt angezeigt, inklusive Belegung und Priorität (z.B.\ durch farbige Banner).
    \item[Nachbedingung Fehlschlag:] Der Raumstatus wird nicht angezeigt oder ist unvollständig.
    \item[Auslösendes Ereignis:] Die Nutzenden öffnen die Ansicht \textit{Kalender}.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die Nutzenden öffnen die Seite.
        \item Die Belegung des Raumes wird mit dem entsprechenden Status angezeigt, der die aktuelle Belegung widerspiegelt.
        \item Falls der Raum belegt ist, wird dies deutlich sichtbar gemacht (z.B.\ durch ein Banner oder ein entsprechendes Symbol).
        \item Dabei wird die Priorität klar dargestellt.
        \item Der Raumstatus ist für alle Nutzenden sichtbar, ohne dass eine Anmeldung erforderlich ist.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{90}{Stornierung einer Reservierung}
    \item[Anwendungsfall:] Stornierung einer Reservierung
    \item[Anforderung:] ~\ref{MK16}
    \item[Ziel:] Die Nutzenden können eine bestehende Reservierung stornieren.
    \item[Vorbedingung:] Die Nutzenden sind angemeldet und haben eine aktive Reservierung.
    \item[Nachbedingung Erfolg:] Die Reservierung wird storniert und die Nutzenden erhalten eine Erfolgsmeldung.
    \item[Nachbedingung Fehlschlag:] Die Reservierung wird nicht storniert und die Nutzenden erhalten eine Fehlermeldung.
    \item[Auslösendes Ereignis:] Die Nutzenden wählen die Option zur Stornierung einer bestehenden Reservierung.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die Nutzenden öffnen die Seite mit ihren aktuellen Reservierungen.
        \item Die Nutzenden wählen die Reservierung aus, die sie stornieren möchten.
        \item Die Nutzenden bestätigen die Stornierung der Reservierung (z.B.\ durch Klick auf \textit{Reservierung stornieren}).
        \item Eine Bestätigungsabfrage erscheint, in der die Nutzenden die Stornierung bestätigen müssen.
        \item Falls die Nutzenden bestätigen, wird die Reservierung storniert.
        \item Das System aktualisiert die Raumverfügbarkeit und zeigt den Nutzenden eine Bestätigungsmeldung (z.B.\ \textit{Reservierung erfolgreich storniert}).
        \item Die Nutzenden erhalten ggf.\ eine E-Mail oder eine Benachrichtigung über die Stornierung (optional).
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{100}{Anmelden mit Adminkonto}
    \item[Anwendungsfall:] Anmelden mit Adminkonto
    \item[Anforderung:]~\ref{MK17}
    \item[Ziel:] Berechtigte Personen können sich mit Passwort authentifizieren um auf das Adminkonto zugreifen zu können.
    \item[Vorbedingung:] Die nutzende Person befindet sich unangemeldet auf der Startseite.
    \item[Nachbedingung Erfolg:] Der Admin ist angemeldet und auf administrative Funktionen zugreifen.
    \item[Nachbedingung Fehlschlag:] Die nutzende Person bleibt unangemeldet auf der Startseite.
    \item[Auslösendes Ereignis:] Die nutzende Person ist unangemeldet auf der Startseite und versucht sich als Admin anzumelden.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die nutzende Person wählt die Admin-Anmeldemethode aus.
        \item Die Person gibt das Admin passwort ein.
        \item Die Anwendung überprüft die Zugangsdaten und lässt die anmeldung zu oder lehnt ab.
        \item Der Admin ist eingeloggt und zeigt die Startseite an.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{110}{Deaktivieren von Gastkonto-Anmeldung}
    \item[Anwendungsfall:] Deaktivieren von Gastkonto-Anmeldung
    \item[Anforderung:]~\ref{MK18}
    \item[Ziel:] Die Anmeldung von Gastkonten wird deaktiviert.
    \item[Vorbedingung:] Ein/e Administrator*in ist angemeldet und die Ansicht \textit{Kontoliste} geöffnet.
    \item[Nachbedingung Erfolg:] Gastkonten können sich nicht mehr anmelden oder registrieren.
    \item[Nachbedingung Fehlschlag:] Gastkonten können sich immer noch anmelden, als auch registrieren.
    \item[Auslösendes Ereignis:] Die als Admin angemeldete Person wählt die Schaltfläche \textit{Gastkonto-Anmeldung deaktivieren}.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die Person wählt die Schaltfläche \textit{Gastkonto-Anmeldung deaktivieren} aus.
        \item Die Gastkonto-Anmeldung ist nun deaktiviert.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{120}{Öffnungszeiten einstellen}
    \item[Anwendungsfall:] Öffnungszeiten einstellen
    \item[Anforderung:]~\ref{MK21}
    \item[Ziel:] Ein/e Administrator*in passt die Öffnungszeiten an.
    \item[Vorbedingung:] Der/die Administrator*in ist angemeldet und die Ansicht \textit{Kalender} geöffnet.
    \item[Nachbedingung Erfolg:] Die Öffnungszeiten sind geändert.
    \item[Nachbedingung Fehlschlag:] Die Öffnungszeiten bleiben gleich.
    \item[Auslösendes Ereignis:] Die als Admin angemeldete Person wählt die Schaltfläche zum Ändern der Öffnungszeiten.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Die als Admin eingeloggte Person ändert die Öffnungszeiten (bzw.\ Schließzeiten) für einen gewählten Wochentag.
    \end{enumerate}
\end{function}

\pagebreak

\begin{function}{130}{Terminkonfliktauflösung}
    \item[Anwendungsfall:] Terminkonfliktauflösung
    \item[Anforderung:]~\ref{MK14}
    \item[Ziel:] Die Anwendung löst Terminkonflikte automatisch.
    \item[Vorbedingung:] Durch die Überlappung von einem neu gebuchten Termin entsteht ein Konflikt mit einem bereits existierenden Termin.
    \item[Nachbedingung Erfolg:] Der Konflikt ist gelöst.
    \item[Nachbedingung Fehlschlag:] Der Konflikt ist nicht gelöst und der neue Termin kann nicht hinzugefügt werden.
    \item[Auslösendes Ereignis:] Ein neuer Termin wurde erstellt und überlappt mit einem weiteren.
    \item[Beschreibung:] ~
    \begin{enumerate}
        \item Nachdem ein Termin erstellt worden ist, wird überprüft ob dieser überlappungen mit anderen Terminen hat.
        \item Ist dies der Fall wird überprüft, ob diese Kriterien ein Überlappen der Termine erlauben.
        \item Dabei wird ggf.\ den betroffenen Personen welche einen Termin \textit{Auf Anfrage} gestellt haben per E-Mail die Entscheidung zum Ablehnen oder Annehmen gegeben.
        \item Der Termin wird als gültig oder nicht klassifiziert und die betroffenen Personen benachrichtigt.
    \end{enumerate}
\end{function}